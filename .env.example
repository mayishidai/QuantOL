# 环境变量配置示例文件
# 复制此文件为 .env 并填入真实的配置信息
# 请勿将包含敏感信息的 .env 文件提交到版本控制系统

# ================================
# 数据库配置
# ================================
# 数据库类型选择 (sqlite/postgresql)
# sqlite: 适合快速体验和开发，无需额外安装
# postgresql: 适合生产环境和大数据量处理
DATABASE_TYPE=sqlite

# SQLite 数据库配置 (当 DATABASE_TYPE=sqlite 时使用)
SQLITE_DB_PATH=./data/quantdb.sqlite

# SQLite 专用性能配置 (解决数据库锁定问题)
SQLITE_MAX_CONNECTIONS=3          # 连接池大小，建议2-5
SQLITE_BUSY_TIMEOUT=30000        # 忙等待超时(毫秒)，建议30000-60000
SQLITE_CACHE_SIZE=-64000         # 缓存大小(KB)，负值表示KB，-64000=64MB
SQLITE_MMAP_SIZE=268435456       # 内存映射大小，256MB
SQLITE_BATCH_SIZE=1000           # 批量操作大小
SQLITE_WAL_AUTO_CHECKPOINT=1000  # WAL自动检查点间隔
SQLITE_JOURNAL_LIMIT=1048576     # 日志大小限制，1MB

# PostgreSQL 数据库连接信息 (当 DATABASE_TYPE=postgresql 时使用)
# 本地PostgreSQL配置（推荐用于开发）
DB_HOST=localhost
DB_PORT=5432
DB_NAME=quantdb
DB_USER=quant
DB_PASSWORD=your_secure_password_here

# 或者使用完整的数据库连接字符串 (可选)
DATABASE_URL=postgresql://quant:your_secure_password_here@localhost:5432/quantdb

# Docker PostgreSQL配置（如果使用Docker）
# DB_HOST=localhost
# DB_PORT=8080
# DB_NAME=quantdb
# DB_USER=quant
# DB_PASSWORD=quant123
# DATABASE_URL=postgresql://quant:quant123@localhost:8080/quantdb

# 数据库连接池配置
DB_MAX_POOL_SIZE=15
DB_QUERY_TIMEOUT=60

# 管理员数据库配置 (可选)
ADMIN_DB_NAME=quantdb

# ================================
# 数据源API配置
# ================================
# 当前选择的数据源 (Tushare/Baostock)
# 注意：这个设置会被系统设置页面覆盖
SELECTED_DATA_SOURCE=Tushare

# Baostock配置 (免费A股数据，无需Token)
BAOSTOCK_ENABLED=true

# Tushare配置 (专业A股数据，需要Token)
# Token格式：32位字符，如 a2fb17ef3159218fabee30c54f270a64b4e6a448252436e6b548da5c
# TUSHARE_TOKEN=your_tushare_token_here

# AkShare配置 (多市场数据源)
# 如果需要使用AkShare的高级功能，可能需要API密钥
# AKSHARE_API_KEY=your_akshare_api_key_here

# ================================
# 应用配置
# ================================
# 应用环境 (development/production)
APP_ENV=development

# 调试模式
DEBUG=false

# 日志级别 (DEBUG/INFO/WARNING/ERROR)
LOG_LEVEL=INFO

# ================================
# 安全配置
# ================================
# JWT密钥 (如果使用认证)
# JWT_SECRET=your_jwt_secret_key_here

# 加密密钥 (如果需要数据加密)
# ENCRYPTION_KEY=your_encryption_key_here

# ================================
# 外部服务配置
# ================================
# 邮件服务配置 (如果需要通知功能)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_email_password

# Redis配置 (如果使用缓存)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password_here

# ================================
# 开发配置
# ================================
# 开发模式下的特殊配置
DEV_MODE=true
# ENABLE_PROFILING=false

# 测试数据库配置 (用于单元测试)
# TEST_DB_NAME=quantdb_test
